<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.25">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="description" content="Learn how to prepare tables, listings, and figures for clinical study report and submit to regulatory agencies, the essential part of clinical trial development.">

<title>4&nbsp; TLF overview – Python for Clinical Study Reports and Submission</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js" integrity="sha384-ZvpUoO/+PpLXR1lu4jmpXWu80pZlYUAfxl5NsBMWOEPSjUn/6Z/hRTt8+pR6L4N2" crossorigin="anonymous"></script><script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./tlf-disposition.html" rel="next">
<link href="./env-pkg.html" rel="prev">
<link href="./assets/favicon.png" rel="icon" type="image/png">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-7b89279ff1a6dce999919e0e67d4d9ec.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-575e75d2bf8055536ead341fe425b737.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="https://cdn.jsdelivr.net/npm/requirejs@2.3.6/require.min.js" integrity="sha384-c9c+LnTbwQ3aujuU7ULEPVvgLs+Fn6fJUvIGTsuu1ZcCf11fiEubah0ttpca4ntM sha384-6V1/AdqZRWk1KAlWbKBlGhN7VG4iE/yAZcO6NZPMF8od0vukrvr0tg4qY6NSrItx" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


<meta property="og:title" content="4&nbsp; TLF overview – Python for Clinical Study Reports and Submission">
<meta property="og:description" content="Learn how to prepare tables, listings, and figures for clinical study report and submit to regulatory agencies, the essential part of clinical trial development.">
<meta property="og:image" content="https://pycsr.org/assets/preview.png">
<meta property="og:site_name" content="Python for Clinical Study Reports and Submission">
<meta property="og:image:height" content="640">
<meta property="og:image:width" content="1280">
<meta name="twitter:title" content="4&nbsp; TLF overview – Python for Clinical Study Reports and Submission">
<meta name="twitter:description" content="Learn how to prepare tables, listings, and figures for clinical study report and submit to regulatory agencies, the essential part of clinical trial development.">
<meta name="twitter:image" content="https://pycsr.org/assets/preview.png">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image-height" content="640">
<meta name="twitter:image-width" content="1280">
</head>

<body class="nav-sidebar floating quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./tlf-overview.html">Clinical trial project</a></li><li class="breadcrumb-item"><a href="./tlf-overview.html"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">TLF overview</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header sidebar-header-stacked">
      <a href="./index.html" class="sidebar-logo-link">
      </a>
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Python for Clinical Study Reports and Submission</a> 
        <div class="sidebar-tools-main tools-wide">
    <a href="https://github.com/nanxstats/pycsr" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
    <div class="dropdown">
      <a href="" title="Share" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" role="link" aria-label="Share"><i class="bi bi-share"></i></a>
      <ul class="dropdown-menu" aria-labelledby="quarto-navigation-tool-dropdown-0">
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://twitter.com/intent/tweet?url=|url|">
              <i class="bi bi-twitter pe-1"></i>
            Twitter
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://www.linkedin.com/sharing/share-offsite/?url=|url|">
              <i class="bi bi-linkedin pe-1"></i>
            LinkedIn
            </a>
          </li>
      </ul>
    </div>
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Welcome</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./preface.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Environment and toolchain</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./env-dev.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Python developer setup</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./env-uv.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Python projects with uv</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./env-pkg.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Python package toolchain</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">Clinical trial project</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tlf-overview.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">TLF overview</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tlf-disposition.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Disposition of participants</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tlf-population.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Study population</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tlf-baseline.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Baseline characteristics</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tlf-ae-summary.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Adverse events summary</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tlf-ae-specific.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Specific adverse events</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tlf-efficacy-ancova.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">ANCOVA efficacy analysis</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <span class="sidebar-item-text sidebar-link text-start">
 <span class="menu-text">eCTD submission package</span></span>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#overview" id="toc-overview" class="nav-link active" data-scroll-target="#overview"><span class="header-section-number">4.1</span> Overview</a></li>
  <li><a href="#background" id="toc-background" class="nav-link" data-scroll-target="#background"><span class="header-section-number">4.2</span> Background</a></li>
  <li><a href="#datasets" id="toc-datasets" class="nav-link" data-scroll-target="#datasets"><span class="header-section-number">4.3</span> Datasets</a></li>
  <li><a href="#tools" id="toc-tools" class="nav-link" data-scroll-target="#tools"><span class="header-section-number">4.4</span> Tools</a></li>
  <li><a href="#polars" id="toc-polars" class="nav-link" data-scroll-target="#polars"><span class="header-section-number">4.5</span> Polars</a>
  <ul class="collapse">
  <li><a href="#io" id="toc-io" class="nav-link" data-scroll-target="#io"><span class="header-section-number">4.5.1</span> I/O</a></li>
  <li><a href="#filtering" id="toc-filtering" class="nav-link" data-scroll-target="#filtering"><span class="header-section-number">4.5.2</span> Filtering</a></li>
  <li><a href="#deriving" id="toc-deriving" class="nav-link" data-scroll-target="#deriving"><span class="header-section-number">4.5.3</span> Deriving</a></li>
  <li><a href="#grouping" id="toc-grouping" class="nav-link" data-scroll-target="#grouping"><span class="header-section-number">4.5.4</span> Grouping</a></li>
  <li><a href="#joining" id="toc-joining" class="nav-link" data-scroll-target="#joining"><span class="header-section-number">4.5.5</span> Joining</a></li>
  <li><a href="#pivoting" id="toc-pivoting" class="nav-link" data-scroll-target="#pivoting"><span class="header-section-number">4.5.6</span> Pivoting</a></li>
  </ul></li>
  <li><a href="#rtflite" id="toc-rtflite" class="nav-link" data-scroll-target="#rtflite"><span class="header-section-number">4.6</span> rtflite</a>
  <ul class="collapse">
  <li><a href="#data-adverse-events" id="toc-data-adverse-events" class="nav-link" data-scroll-target="#data-adverse-events"><span class="header-section-number">4.6.1</span> Data: adverse events</a></li>
  <li><a href="#table-ready-data" id="toc-table-ready-data" class="nav-link" data-scroll-target="#table-ready-data"><span class="header-section-number">4.6.2</span> Table-ready data</a></li>
  <li><a href="#table-component-classes" id="toc-table-component-classes" class="nav-link" data-scroll-target="#table-component-classes"><span class="header-section-number">4.6.3</span> Table component classes</a></li>
  <li><a href="#simple-example" id="toc-simple-example" class="nav-link" data-scroll-target="#simple-example"><span class="header-section-number">4.6.4</span> Simple example</a></li>
  <li><a href="#column-width" id="toc-column-width" class="nav-link" data-scroll-target="#column-width"><span class="header-section-number">4.6.5</span> Column width</a></li>
  <li><a href="#column-headers" id="toc-column-headers" class="nav-link" data-scroll-target="#column-headers"><span class="header-section-number">4.6.6</span> Column headers</a></li>
  <li><a href="#titles-footnotes-and-data-source" id="toc-titles-footnotes-and-data-source" class="nav-link" data-scroll-target="#titles-footnotes-and-data-source"><span class="header-section-number">4.6.7</span> Titles, footnotes, and data source</a></li>
  <li><a href="#text-formatting-and-alignment" id="toc-text-formatting-and-alignment" class="nav-link" data-scroll-target="#text-formatting-and-alignment"><span class="header-section-number">4.6.8</span> Text formatting and alignment</a></li>
  <li><a href="#border-customization" id="toc-border-customization" class="nav-link" data-scroll-target="#border-customization"><span class="header-section-number">4.6.9</span> Border customization</a></li>
  </ul></li>
  <li><a href="#next-steps" id="toc-next-steps" class="nav-link" data-scroll-target="#next-steps"><span class="header-section-number">4.7</span> Next Steps</a></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/nanxstats/pycsr/edit/main/tlf-overview.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/nanxstats/pycsr/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li><li><a href="https://github.com/nanxstats/pycsr/blob/main/tlf-overview.qmd" class="toc-action"><i class="bi empty"></i>View source</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./tlf-overview.html">Clinical trial project</a></li><li class="breadcrumb-item"><a href="./tlf-overview.html"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">TLF overview</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">TLF overview</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Tip</span>Objective
</div>
</div>
<div class="callout-body-container callout-body">
<p>Understand the regulatory context and importance of TLFs in clinical study reports. Learn basic concepts of Polars and rtflite for TLF generation.</p>
</div>
</div>
<section id="overview" class="level2" data-number="4.1">
<h2 data-number="4.1" class="anchored" data-anchor-id="overview"><span class="header-section-number">4.1</span> Overview</h2>
<p>Tables, listings, and figures (TLFs) are essential components of clinical study reports (CSRs) and regulatory submissions. Following <a href="https://database.ich.org/sites/default/files/E3_Guideline.pdf">ICH E3 guidance</a>, TLFs provide standardized summaries of clinical trial data that support regulatory decision-making.</p>
<p>This chapter provides an overview of creating TLFs using Python, focusing on the tools and workflows demonstrated throughout this book.</p>
</section>
<section id="background" class="level2" data-number="4.2">
<h2 data-number="4.2" class="anchored" data-anchor-id="background"><span class="header-section-number">4.2</span> Background</h2>
<p>Submitting clinical trial results to regulatory agencies is a crucial aspect of clinical development. The <a href="https://en.wikipedia.org/wiki/Electronic_common_technical_document">Electronic Common Technical Document (eCTD)</a> has emerged as the global standard format for regulatory submissions. For instance, the United States Food and Drug Administration (US FDA) <a href="https://www.fda.gov/drugs/electronic-regulatory-submission-and-review/electronic-common-technical-document-ectd">mandates the use of eCTD</a> for new drug applications and biologics license applications.</p>
<p>A CSR provides comprehensive information about the methods and results of an individual clinical study. To support the statistical analysis, numerous tables, listings, and figures are included within the main text and appendices. The creation of a CSR is a collaborative effort that involves various professionals such as clinicians, medical writers, statisticians, and statistical programmers.</p>
<p>Within an organization, these professionals typically collaborate to define, develop, validate, and deliver the necessary TLFs for a CSR. These TLFs serve to summarize the efficacy and/or safety of the pharmaceutical product under study. In the pharmaceutical industry, Microsoft Word is widely utilized for CSR preparation. As a result, the deliverables from statisticians and statistical programmers are commonly provided in formats such as <code>.rtf</code>, <code>.doc</code>, <code>.docx</code> to align with industry standards and requirements.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>Each organization may define specific TLF format requirements that differ from the examples in this book. It is advisable to consult and adhere to the guidelines and specifications set by your respective organization when preparing TLFs for submission.</p>
</div>
</div>
<p>By following the ICH E3 guidance, most TLFs in a CSR are located at:</p>
<ul>
<li>Section 10: Study participants</li>
<li>Section 11: Efficacy evaluation</li>
<li>Section 12: Safety evaluation</li>
<li>Section 14: Tables, listings, and figures referenced but not included in the text</li>
<li>Section 16: Appendices</li>
</ul>
</section>
<section id="datasets" class="level2" data-number="4.3">
<h2 data-number="4.3" class="anchored" data-anchor-id="datasets"><span class="header-section-number">4.3</span> Datasets</h2>
<p>The dataset structure follows <a href="https://www.cdisc.org/standards/foundational/adam">CDISC Analysis Data Model (ADaM)</a>.</p>
<p>In this project, we use publicly available CDISC pilot study data, which is accessible through the <a href="https://github.com/cdisc-org/sdtm-adam-pilot-project/tree/master/updated-pilot-submission-package/900172/m5/datasets/cdiscpilot01/analysis/adam/datasets">CDISC GitHub repository</a>.</p>
<p>We have converted these datasets from the <code>.xpt</code> format to the <code>.parquet</code> format for ease of use and compatibility with Python tools. The dataset structure adheres to the CDISC <a href="https://www.cdisc.org/standards/foundational/adam">Analysis Data Model (ADaM)</a> standard.</p>
</section>
<section id="tools" class="level2" data-number="4.4">
<h2 data-number="4.4" class="anchored" data-anchor-id="tools"><span class="header-section-number">4.4</span> Tools</h2>
<p>To exemplify the generation of TLFs in RTF format, we rely on the functionality provided by two Python packages:</p>
<ul>
<li><strong><a href="https://pola.rs">Polars</a></strong>: Preparation of datasets in a format suitable for reporting purposes. Polars offers a comprehensive suite of tools and functions for data manipulation and transformation, ensuring that the data is structured appropriately.</li>
<li><strong><a href="https://github.com/pharmaverse/rtflite">rtflite</a></strong>: Creation of RTF files. The rtflite package offers functions specifically designed for generating RTF files, allowing us to produce TLFs in the desired format.</li>
</ul>
</section>
<section id="polars" class="level2" data-number="4.5">
<h2 data-number="4.5" class="anchored" data-anchor-id="polars"><span class="header-section-number">4.5</span> Polars</h2>
<p>Polars is an open-source library for data manipulation implemented in Rust with Python bindings. It offers exceptional performance while maintaining a user-friendly interface for interactive data analysis.</p>
<p>Key advantages of Polars include:</p>
<ul>
<li><strong>Performance</strong>: 10-100x faster than pandas for most operations due to Rust implementation</li>
<li><strong>Memory efficiency</strong>: Lazy evaluation and columnar storage reduce memory usage</li>
<li><strong>Familiar syntax</strong>: Similar to tidyverse-style pipelines, making it accessible to R users</li>
<li><strong>Type safety</strong>: Strong typing system that catches errors early in development</li>
</ul>
<p>The creators of Polars have provided exceptional <a href="https://docs.pola.rs/api/python/stable/reference/index.html">documentation</a> and <a href="https://docs.pola.rs/user-guide/getting-started">tutorials</a> that serve as valuable resources for learning and mastering the functionalities of the library.</p>
<p>Furthermore, several books are available that serve as introductions to Polars:</p>
<ul>
<li><a href="https://polarsguide.com/">Python Polars: The Definitive Guide</a></li>
</ul>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>In this book, we assume that the reader has some experience with data manipulation concepts. This prior knowledge enables a more efficient and focused exploration of the clinical reporting concepts presented throughout the book.</p>
</div>
</div>
<p>To illustrate the basic usage of Polars, let’s work with a sample ADSL dataset. This dataset contains subject-level information from a clinical trial, which will serve as a practical example for generating summaries using Polars.</p>
<div id="eb94664d" class="cell" data-execution_count="1">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> polars <span class="im">as</span> pl</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div id="fa2dc36d" class="cell" data-execution_count="2">
<div class="cell-output cell-output-display" data-execution_count="2">
<pre><code>polars.config.Config</code></pre>
</div>
</div>
<div id="5f744a41" class="cell" data-execution_count="3">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read clinical data</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>adsl <span class="op">=</span> pl.read_parquet(<span class="st">"data/adsl.parquet"</span>)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Select columns</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>adsl <span class="op">=</span> adsl.select([<span class="st">"USUBJID"</span>, <span class="st">"TRT01A"</span>, <span class="st">"AGE"</span>, <span class="st">"SEX"</span>])</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Basic data exploration</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>adsl</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display" data-execution_count="3">
<div><style>
.dataframe > thead > tr,
.dataframe > tbody > tr {
  text-align: right;
  white-space: pre-wrap;
}
</style>
<small>shape: (254, 4)</small>
<table class="dataframe caption-top table table-sm table-striped small" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th">USUBJID</th>
<th data-quarto-table-cell-role="th">TRT01A</th>
<th data-quarto-table-cell-role="th">AGE</th>
<th data-quarto-table-cell-role="th">SEX</th>
</tr>
<tr class="even">
<td>str</td>
<td>str</td>
<td>f64</td>
<td>str</td>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>"01-701-1015"</td>
<td>"Placebo"</td>
<td>63.0</td>
<td>"Female"</td>
</tr>
<tr class="even">
<td>"01-701-1023"</td>
<td>"Placebo"</td>
<td>64.0</td>
<td>"Male"</td>
</tr>
<tr class="odd">
<td>"01-701-1028"</td>
<td>"Xanomeline High Dose"</td>
<td>71.0</td>
<td>"Male"</td>
</tr>
<tr class="even">
<td>…</td>
<td>…</td>
<td>…</td>
<td>…</td>
</tr>
<tr class="odd">
<td>"01-718-1371"</td>
<td>"Xanomeline High Dose"</td>
<td>69.0</td>
<td>"Female"</td>
</tr>
<tr class="even">
<td>"01-718-1427"</td>
<td>"Xanomeline High Dose"</td>
<td>74.0</td>
<td>"Female"</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p>Key Polars operations for clinical reporting include:</p>
<section id="io" class="level3" data-number="4.5.1">
<h3 data-number="4.5.1" class="anchored" data-anchor-id="io"><span class="header-section-number">4.5.1</span> I/O</h3>
<p>Polars supports multiple data formats for input and output (see the <a href="https://docs.pola.rs/user-guide/io/">I/O guide</a>). For clinical development, we recommend the <code>.parquet</code> format because tools in Python, R, and Julia can read and write it without conversion. The example below loads subject-level ADSL data with Polars.</p>
<div id="0f6a78a3" class="cell" data-execution_count="4">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> polars <span class="im">as</span> pl</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div id="fe171c12" class="cell" data-execution_count="5">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>adsl <span class="op">=</span> pl.read_parquet(<span class="st">"data/adsl.parquet"</span>)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>adsl <span class="op">=</span> adsl.select(<span class="st">"STUDYID"</span>, <span class="st">"USUBJID"</span>, <span class="st">"TRT01A"</span>, <span class="st">"AGE"</span>, <span class="st">"SEX"</span>) <span class="co"># select columns</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>adsl</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display" data-execution_count="5">
<div><style>
.dataframe > thead > tr,
.dataframe > tbody > tr {
  text-align: right;
  white-space: pre-wrap;
}
</style>
<small>shape: (254, 5)</small>
<table class="dataframe caption-top table table-sm table-striped small" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th">STUDYID</th>
<th data-quarto-table-cell-role="th">USUBJID</th>
<th data-quarto-table-cell-role="th">TRT01A</th>
<th data-quarto-table-cell-role="th">AGE</th>
<th data-quarto-table-cell-role="th">SEX</th>
</tr>
<tr class="even">
<td>str</td>
<td>str</td>
<td>str</td>
<td>f64</td>
<td>str</td>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>"CDISCPILOT01"</td>
<td>"01-701-1015"</td>
<td>"Placebo"</td>
<td>63.0</td>
<td>"Female"</td>
</tr>
<tr class="even">
<td>"CDISCPILOT01"</td>
<td>"01-701-1023"</td>
<td>"Placebo"</td>
<td>64.0</td>
<td>"Male"</td>
</tr>
<tr class="odd">
<td>"CDISCPILOT01"</td>
<td>"01-701-1028"</td>
<td>"Xanomeline High Dose"</td>
<td>71.0</td>
<td>"Male"</td>
</tr>
<tr class="even">
<td>…</td>
<td>…</td>
<td>…</td>
<td>…</td>
<td>…</td>
</tr>
<tr class="odd">
<td>"CDISCPILOT01"</td>
<td>"01-718-1371"</td>
<td>"Xanomeline High Dose"</td>
<td>69.0</td>
<td>"Female"</td>
</tr>
<tr class="even">
<td>"CDISCPILOT01"</td>
<td>"01-718-1427"</td>
<td>"Xanomeline High Dose"</td>
<td>74.0</td>
<td>"Female"</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</section>
<section id="filtering" class="level3" data-number="4.5.2">
<h3 data-number="4.5.2" class="anchored" data-anchor-id="filtering"><span class="header-section-number">4.5.2</span> Filtering</h3>
<p>Filtering in Polars uses the <code>.filter()</code> method with column expressions. Below are examples applied to the ADSL data.</p>
<div id="1395574c" class="cell" data-execution_count="6">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter female subjects</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>adsl.<span class="bu">filter</span>(pl.col(<span class="st">"SEX"</span>) <span class="op">==</span> <span class="st">"Female"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display" data-execution_count="6">
<div><style>
.dataframe > thead > tr,
.dataframe > tbody > tr {
  text-align: right;
  white-space: pre-wrap;
}
</style>
<small>shape: (143, 5)</small>
<table class="dataframe caption-top table table-sm table-striped small" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th">STUDYID</th>
<th data-quarto-table-cell-role="th">USUBJID</th>
<th data-quarto-table-cell-role="th">TRT01A</th>
<th data-quarto-table-cell-role="th">AGE</th>
<th data-quarto-table-cell-role="th">SEX</th>
</tr>
<tr class="even">
<td>str</td>
<td>str</td>
<td>str</td>
<td>f64</td>
<td>str</td>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>"CDISCPILOT01"</td>
<td>"01-701-1015"</td>
<td>"Placebo"</td>
<td>63.0</td>
<td>"Female"</td>
</tr>
<tr class="even">
<td>"CDISCPILOT01"</td>
<td>"01-701-1034"</td>
<td>"Xanomeline High Dose"</td>
<td>77.0</td>
<td>"Female"</td>
</tr>
<tr class="odd">
<td>"CDISCPILOT01"</td>
<td>"01-701-1047"</td>
<td>"Placebo"</td>
<td>85.0</td>
<td>"Female"</td>
</tr>
<tr class="even">
<td>…</td>
<td>…</td>
<td>…</td>
<td>…</td>
<td>…</td>
</tr>
<tr class="odd">
<td>"CDISCPILOT01"</td>
<td>"01-718-1371"</td>
<td>"Xanomeline High Dose"</td>
<td>69.0</td>
<td>"Female"</td>
</tr>
<tr class="even">
<td>"CDISCPILOT01"</td>
<td>"01-718-1427"</td>
<td>"Xanomeline High Dose"</td>
<td>74.0</td>
<td>"Female"</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div id="b038fdf6" class="cell" data-execution_count="7">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter subjects with Age &gt;= 65</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>adsl.<span class="bu">filter</span>(pl.col(<span class="st">"AGE"</span>) <span class="op">&gt;=</span> <span class="dv">65</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display" data-execution_count="7">
<div><style>
.dataframe > thead > tr,
.dataframe > tbody > tr {
  text-align: right;
  white-space: pre-wrap;
}
</style>
<small>shape: (221, 5)</small>
<table class="dataframe caption-top table table-sm table-striped small" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th">STUDYID</th>
<th data-quarto-table-cell-role="th">USUBJID</th>
<th data-quarto-table-cell-role="th">TRT01A</th>
<th data-quarto-table-cell-role="th">AGE</th>
<th data-quarto-table-cell-role="th">SEX</th>
</tr>
<tr class="even">
<td>str</td>
<td>str</td>
<td>str</td>
<td>f64</td>
<td>str</td>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>"CDISCPILOT01"</td>
<td>"01-701-1028"</td>
<td>"Xanomeline High Dose"</td>
<td>71.0</td>
<td>"Male"</td>
</tr>
<tr class="even">
<td>"CDISCPILOT01"</td>
<td>"01-701-1033"</td>
<td>"Xanomeline Low Dose"</td>
<td>74.0</td>
<td>"Male"</td>
</tr>
<tr class="odd">
<td>"CDISCPILOT01"</td>
<td>"01-701-1034"</td>
<td>"Xanomeline High Dose"</td>
<td>77.0</td>
<td>"Female"</td>
</tr>
<tr class="even">
<td>…</td>
<td>…</td>
<td>…</td>
<td>…</td>
<td>…</td>
</tr>
<tr class="odd">
<td>"CDISCPILOT01"</td>
<td>"01-718-1371"</td>
<td>"Xanomeline High Dose"</td>
<td>69.0</td>
<td>"Female"</td>
</tr>
<tr class="even">
<td>"CDISCPILOT01"</td>
<td>"01-718-1427"</td>
<td>"Xanomeline High Dose"</td>
<td>74.0</td>
<td>"Female"</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</section>
<section id="deriving" class="level3" data-number="4.5.3">
<h3 data-number="4.5.3" class="anchored" data-anchor-id="deriving"><span class="header-section-number">4.5.3</span> Deriving</h3>
<p>Deriving new variables is common in clinical data analysis for creating age groups, BMI categories, or treatment flags. Polars uses <code>.with_columns()</code> to add new columns while keeping existing ones.</p>
<div id="b5f135fa" class="cell" data-execution_count="8">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create age groups</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>adsl.with_columns([</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>    pl.when(pl.col(<span class="st">"AGE"</span>) <span class="op">&lt;</span> <span class="dv">65</span>)</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>      .then(pl.lit(<span class="st">"&lt;65"</span>))</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>      .otherwise(pl.lit(<span class="st">"&gt;=65"</span>))</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>      .alias(<span class="st">"AGECAT"</span>)</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>])</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display" data-execution_count="8">
<div><style>
.dataframe > thead > tr,
.dataframe > tbody > tr {
  text-align: right;
  white-space: pre-wrap;
}
</style>
<small>shape: (254, 6)</small>
<table class="dataframe caption-top table table-sm table-striped small" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th">STUDYID</th>
<th data-quarto-table-cell-role="th">USUBJID</th>
<th data-quarto-table-cell-role="th">TRT01A</th>
<th data-quarto-table-cell-role="th">AGE</th>
<th data-quarto-table-cell-role="th">SEX</th>
<th data-quarto-table-cell-role="th">AGECAT</th>
</tr>
<tr class="even">
<td>str</td>
<td>str</td>
<td>str</td>
<td>f64</td>
<td>str</td>
<td>str</td>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>"CDISCPILOT01"</td>
<td>"01-701-1015"</td>
<td>"Placebo"</td>
<td>63.0</td>
<td>"Female"</td>
<td>"&lt;65"</td>
</tr>
<tr class="even">
<td>"CDISCPILOT01"</td>
<td>"01-701-1023"</td>
<td>"Placebo"</td>
<td>64.0</td>
<td>"Male"</td>
<td>"&lt;65"</td>
</tr>
<tr class="odd">
<td>"CDISCPILOT01"</td>
<td>"01-701-1028"</td>
<td>"Xanomeline High Dose"</td>
<td>71.0</td>
<td>"Male"</td>
<td>"&gt;=65"</td>
</tr>
<tr class="even">
<td>…</td>
<td>…</td>
<td>…</td>
<td>…</td>
<td>…</td>
<td>…</td>
</tr>
<tr class="odd">
<td>"CDISCPILOT01"</td>
<td>"01-718-1371"</td>
<td>"Xanomeline High Dose"</td>
<td>69.0</td>
<td>"Female"</td>
<td>"&gt;=65"</td>
</tr>
<tr class="even">
<td>"CDISCPILOT01"</td>
<td>"01-718-1427"</td>
<td>"Xanomeline High Dose"</td>
<td>74.0</td>
<td>"Female"</td>
<td>"&gt;=65"</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</section>
<section id="grouping" class="level3" data-number="4.5.4">
<h3 data-number="4.5.4" class="anchored" data-anchor-id="grouping"><span class="header-section-number">4.5.4</span> Grouping</h3>
<p>Grouping operations are fundamental for creating summary statistics in clinical reports. Polars uses <code>group_by()</code> followed by aggregation functions to compute counts, means, and other statistics by categorical variables like treatment groups.</p>
<p>The <code>.count()</code> method provides a quick way to get subject counts by group.</p>
<div id="6c5b6247" class="cell" data-execution_count="9">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Count by treatment group</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>adsl.group_by(<span class="st">"TRT01A"</span>).<span class="bu">len</span>().sort(<span class="st">"TRT01A"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display" data-execution_count="9">
<div><style>
.dataframe > thead > tr,
.dataframe > tbody > tr {
  text-align: right;
  white-space: pre-wrap;
}
</style>
<small>shape: (3, 2)</small>
<table class="dataframe caption-top table table-sm table-striped small" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th">TRT01A</th>
<th data-quarto-table-cell-role="th">len</th>
</tr>
<tr class="even">
<td>str</td>
<td>u32</td>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>"Placebo"</td>
<td>86</td>
</tr>
<tr class="even">
<td>"Xanomeline High Dose"</td>
<td>84</td>
</tr>
<tr class="odd">
<td>"Xanomeline Low Dose"</td>
<td>84</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p>You can also use <code>.agg()</code> with multiple aggregation functions:</p>
<div id="db853e99" class="cell" data-execution_count="10">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Age statistics by treatment group</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>adsl.group_by(<span class="st">"TRT01A"</span>).agg([</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>    pl.col(<span class="st">"AGE"</span>).mean().<span class="bu">round</span>(<span class="dv">1</span>).alias(<span class="st">"mean_age"</span>),</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>    pl.col(<span class="st">"AGE"</span>).std().<span class="bu">round</span>(<span class="dv">2</span>).alias(<span class="st">"sd_age"</span>)</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>]).sort(<span class="st">"TRT01A"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display" data-execution_count="10">
<div><style>
.dataframe > thead > tr,
.dataframe > tbody > tr {
  text-align: right;
  white-space: pre-wrap;
}
</style>
<small>shape: (3, 3)</small>
<table class="dataframe caption-top table table-sm table-striped small" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th">TRT01A</th>
<th data-quarto-table-cell-role="th">mean_age</th>
<th data-quarto-table-cell-role="th">sd_age</th>
</tr>
<tr class="even">
<td>str</td>
<td>f64</td>
<td>f64</td>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>"Placebo"</td>
<td>75.2</td>
<td>8.59</td>
</tr>
<tr class="even">
<td>"Xanomeline High Dose"</td>
<td>74.4</td>
<td>7.89</td>
</tr>
<tr class="odd">
<td>"Xanomeline Low Dose"</td>
<td>75.7</td>
<td>8.29</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</section>
<section id="joining" class="level3" data-number="4.5.5">
<h3 data-number="4.5.5" class="anchored" data-anchor-id="joining"><span class="header-section-number">4.5.5</span> Joining</h3>
<p>Joining datasets is essential for combining subject-level data (ADSL) with event-level data (e.g.&nbsp;ADAE, ADLB). Polars supports various join types including inner, left, and full joins.</p>
<p>Here is a toy example that splits ADSL and joins it back by <code>USUBJID</code>.</p>
<div id="3cb60bc7" class="cell" data-execution_count="11">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a simple demographics subset</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>demo <span class="op">=</span> adsl.select(<span class="st">"USUBJID"</span>, <span class="st">"AGE"</span>, <span class="st">"SEX"</span>).head(<span class="dv">3</span>)</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Create treatment info subset</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>trt <span class="op">=</span> adsl.select(<span class="st">"USUBJID"</span>, <span class="st">"TRT01A"</span>).head(<span class="dv">3</span>)</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Left join to combine datasets</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>demo.join(trt, on<span class="op">=</span><span class="st">"USUBJID"</span>, how<span class="op">=</span><span class="st">"left"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display" data-execution_count="11">
<div><style>
.dataframe > thead > tr,
.dataframe > tbody > tr {
  text-align: right;
  white-space: pre-wrap;
}
</style>
<small>shape: (3, 4)</small>
<table class="dataframe caption-top table table-sm table-striped small" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th">USUBJID</th>
<th data-quarto-table-cell-role="th">AGE</th>
<th data-quarto-table-cell-role="th">SEX</th>
<th data-quarto-table-cell-role="th">TRT01A</th>
</tr>
<tr class="even">
<td>str</td>
<td>f64</td>
<td>str</td>
<td>str</td>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>"01-701-1015"</td>
<td>63.0</td>
<td>"Female"</td>
<td>"Placebo"</td>
</tr>
<tr class="even">
<td>"01-701-1023"</td>
<td>64.0</td>
<td>"Male"</td>
<td>"Placebo"</td>
</tr>
<tr class="odd">
<td>"01-701-1028"</td>
<td>71.0</td>
<td>"Male"</td>
<td>"Xanomeline High Dose"</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</section>
<section id="pivoting" class="level3" data-number="4.5.6">
<h3 data-number="4.5.6" class="anchored" data-anchor-id="pivoting"><span class="header-section-number">4.5.6</span> Pivoting</h3>
<p>Pivoting transforms data from long to wide format, commonly needed for creating tables. Use <code>.pivot()</code> to reshape grouped data into columns.</p>
<div id="c7a3fb08" class="cell" data-execution_count="12">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create summary by treatment and sex</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>    adsl</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>        .group_by([<span class="st">"TRT01A"</span>, <span class="st">"SEX"</span>])</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>        .agg(pl.<span class="bu">len</span>().alias(<span class="st">"n"</span>))</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>        .pivot(</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>            values<span class="op">=</span><span class="st">"n"</span>,</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>            index<span class="op">=</span><span class="st">"SEX"</span>,</span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>            on<span class="op">=</span><span class="st">"TRT01A"</span></span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display" data-execution_count="12">
<div><style>
.dataframe > thead > tr,
.dataframe > tbody > tr {
  text-align: right;
  white-space: pre-wrap;
}
</style>
<small>shape: (2, 4)</small>
<table class="dataframe caption-top table table-sm table-striped small" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th">SEX</th>
<th data-quarto-table-cell-role="th">Xanomeline High Dose</th>
<th data-quarto-table-cell-role="th">Placebo</th>
<th data-quarto-table-cell-role="th">Xanomeline Low Dose</th>
</tr>
<tr class="even">
<td>str</td>
<td>u32</td>
<td>u32</td>
<td>u32</td>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>"Male"</td>
<td>44</td>
<td>33</td>
<td>34</td>
</tr>
<tr class="even">
<td>"Female"</td>
<td>40</td>
<td>53</td>
<td>50</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p>Having covered the essential Polars operations for data manipulation, we now turn to the second component of our clinical reporting workflow: formatting and presenting the processed data in regulatory-compliant RTF format.</p>
</section>
</section>
<section id="rtflite" class="level2" data-number="4.6">
<h2 data-number="4.6" class="anchored" data-anchor-id="rtflite"><span class="header-section-number">4.6</span> rtflite</h2>
<div id="b965c84d" class="cell" data-execution_count="13">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> rtflite <span class="im">as</span> rtf </span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>rtflite is a Python package for creating production-ready tables and figures in RTF format. While Polars handles the data processing and statistical calculations, rtflite focuses exclusively on the presentation layer. The package is designed to:</p>
<ul>
<li>Provide simple Python classes that map to table elements (title, headers, body, footnotes) for intuitive table construction.</li>
<li>Offer a canonical Python API with a clear, composable interface.</li>
<li>Focus exclusively on <strong>table formatting and layout</strong>, leaving data manipulation to dataframe libraries like polars or pandas.</li>
<li>Minimize external dependencies for maximum portability and reliability.</li>
</ul>
<p>Creating an RTF table involves three steps:</p>
<ul>
<li>Design the desired table layout and structure.</li>
<li>Configure the appropriate rtflite components.</li>
<li>Generate and save the RTF document.</li>
</ul>
<p>This guide introduces rtflite’s core components and demonstrates how to turn dataframes into Tables, Listings, and Figures (TLFs) for clinical reporting.</p>
<section id="data-adverse-events" class="level3" data-number="4.6.1">
<h3 data-number="4.6.1" class="anchored" data-anchor-id="data-adverse-events"><span class="header-section-number">4.6.1</span> Data: adverse events</h3>
<p>To explore the RTF generation capabilities in rtflite, we will use the dataset <code>data/adae.parquet</code>. This dataset contains adverse event (AE) information from a clinical trial.</p>
<p>Below are the meanings of relevant variables:</p>
<ul>
<li><code>USUBJID</code>: Unique Subject Identifier</li>
<li><code>TRTA</code>: Actual Treatment</li>
<li><code>AEDECOD</code>: Dictionary-Derived Term</li>
</ul>
<div id="90da019b" class="cell" data-execution_count="15">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load adverse events data</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pl.read_parquet(<span class="st">"data/adae.parquet"</span>)</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>df.select([<span class="st">"USUBJID"</span>, <span class="st">"TRTA"</span>, <span class="st">"AEDECOD"</span>])</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display" data-execution_count="15">
<div><style>
.dataframe > thead > tr,
.dataframe > tbody > tr {
  text-align: right;
  white-space: pre-wrap;
}
</style>
<small>shape: (1_191, 3)</small>
<table class="dataframe caption-top table table-sm table-striped small" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th">USUBJID</th>
<th data-quarto-table-cell-role="th">TRTA</th>
<th data-quarto-table-cell-role="th">AEDECOD</th>
</tr>
<tr class="even">
<td>str</td>
<td>str</td>
<td>str</td>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>"01-701-1015"</td>
<td>"Placebo"</td>
<td>"APPLICATION SITE ERYTHEMA"</td>
</tr>
<tr class="even">
<td>"01-701-1015"</td>
<td>"Placebo"</td>
<td>"APPLICATION SITE PRURITUS"</td>
</tr>
<tr class="odd">
<td>"01-701-1015"</td>
<td>"Placebo"</td>
<td>"DIARRHOEA"</td>
</tr>
<tr class="even">
<td>…</td>
<td>…</td>
<td>…</td>
</tr>
<tr class="odd">
<td>"01-718-1427"</td>
<td>"Xanomeline High Dose"</td>
<td>"DECREASED APPETITE"</td>
</tr>
<tr class="even">
<td>"01-718-1427"</td>
<td>"Xanomeline High Dose"</td>
<td>"NAUSEA"</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</section>
<section id="table-ready-data" class="level3" data-number="4.6.2">
<h3 data-number="4.6.2" class="anchored" data-anchor-id="table-ready-data"><span class="header-section-number">4.6.2</span> Table-ready data</h3>
<p>In this AE example, we provide the number of subjects with each type of AE by treatment group.</p>
<div id="61b06b5d" class="cell" data-execution_count="16">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>tbl <span class="op">=</span> (</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>    df.group_by([<span class="st">"TRTA"</span>, <span class="st">"AEDECOD"</span>])</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>    .agg(pl.<span class="bu">len</span>().alias(<span class="st">"n"</span>))</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>    .sort(<span class="st">"TRTA"</span>)</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>    .pivot(values<span class="op">=</span><span class="st">"n"</span>, index<span class="op">=</span><span class="st">"AEDECOD"</span>, on<span class="op">=</span><span class="st">"TRTA"</span>)</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>    .fill_null(<span class="dv">0</span>)</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>    .sort(<span class="st">"AEDECOD"</span>)  <span class="co"># Sort by adverse event name to match R output</span></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>tbl</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display" data-execution_count="16">
<div><style>
.dataframe > thead > tr,
.dataframe > tbody > tr {
  text-align: right;
  white-space: pre-wrap;
}
</style>
<small>shape: (242, 4)</small>
<table class="dataframe caption-top table table-sm table-striped small" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th">AEDECOD</th>
<th data-quarto-table-cell-role="th">Placebo</th>
<th data-quarto-table-cell-role="th">Xanomeline High Dose</th>
<th data-quarto-table-cell-role="th">Xanomeline Low Dose</th>
</tr>
<tr class="even">
<td>str</td>
<td>u32</td>
<td>u32</td>
<td>u32</td>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>"ABDOMINAL DISCOMFORT"</td>
<td>0</td>
<td>1</td>
<td>0</td>
</tr>
<tr class="even">
<td>"ABDOMINAL PAIN"</td>
<td>1</td>
<td>2</td>
<td>3</td>
</tr>
<tr class="odd">
<td>"ACROCHORDON EXCISION"</td>
<td>0</td>
<td>1</td>
<td>0</td>
</tr>
<tr class="even">
<td>…</td>
<td>…</td>
<td>…</td>
<td>…</td>
</tr>
<tr class="odd">
<td>"WOUND"</td>
<td>0</td>
<td>0</td>
<td>2</td>
</tr>
<tr class="even">
<td>"WOUND HAEMORRHAGE"</td>
<td>0</td>
<td>1</td>
<td>0</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</section>
<section id="table-component-classes" class="level3" data-number="4.6.3">
<h3 data-number="4.6.3" class="anchored" data-anchor-id="table-component-classes"><span class="header-section-number">4.6.3</span> Table component classes</h3>
<p>rtflite provides dedicated classes for each table component. Commonly used classes include:</p>
<ul>
<li><code>RTFPage</code>: RTF page information (orientation, margins, pagination).</li>
<li><code>RTFPageHeader</code>: Page headers with page numbering (compatible with r2rtf).</li>
<li><code>RTFPageFooter</code>: Page footers for attribution and notices.</li>
<li><code>RTFTitle</code>: RTF title information.</li>
<li><code>RTFColumnHeader</code>: RTF column header information.</li>
<li><code>RTFBody</code>: RTF table body information.</li>
<li><code>RTFFootnote</code>: RTF footnote information.</li>
<li><code>RTFSource</code>: RTF data source information.</li>
</ul>
<p>These component classes work together to build complete RTF documents. A full list of all classes and their parameters can be found in the <a href="https://merck.github.io/rtflite/reference/">API reference</a>.</p>
</section>
<section id="simple-example" class="level3" data-number="4.6.4">
<h3 data-number="4.6.4" class="anchored" data-anchor-id="simple-example"><span class="header-section-number">4.6.4</span> Simple example</h3>
<p>A minimal example below illustrates how to combine components to create an RTF table.</p>
<ul>
<li><code>RTFBody()</code> defines table body layout.</li>
<li><code>RTFDocument()</code> transfers table layout information into RTF syntax.</li>
<li><code>write_rtf()</code> saves encoded RTF into a <code>.rtf</code> file.</li>
</ul>
<div id="c5a87847" class="cell" data-execution_count="17">
<div class="cell-output cell-output-stdout">
<pre><code>rtf/tlf_overview1.rtf</code></pre>
</div>
</div>
<div id="e3d105ee" class="cell" data-execution_count="18">
<div class="cell-output cell-output-display" data-execution_count="18">
<pre><code>PosixPath('pdf/tlf_overview1.pdf')</code></pre>
</div>
</div>
<embed src="pdf/tlf_overview1.pdf" style="width:100%; height:400px" type="application/pdf">
</section>
<section id="column-width" class="level3" data-number="4.6.5">
<h3 data-number="4.6.5" class="anchored" data-anchor-id="column-width"><span class="header-section-number">4.6.5</span> Column width</h3>
<p>If we want to adjust the width of each column to provide more space to the first column, this can be achieved by updating <code>col_rel_width</code> in <code>RTFBody</code>.</p>
<p>The input of <code>col_rel_width</code> is a list with the same length as the number of columns. This argument defines the relative length of each column within a pre-defined total column width.</p>
<p>In this example, the defined relative width is 3:2:2:2. Only the ratio of <code>col_rel_width</code> is used. Therefore it is equivalent to use <code>col_rel_width = [6,4,4,4]</code> or <code>col_rel_width = [1.5,1,1,1]</code>.</p>
<div id="04f7f57e" class="cell" data-execution_count="19">
<div class="cell-output cell-output-stdout">
<pre><code>rtf/tlf_overview2.rtf</code></pre>
</div>
</div>
<div id="b7ce4038" class="cell" data-execution_count="20">
<div class="cell-output cell-output-display" data-execution_count="20">
<pre><code>PosixPath('pdf/tlf_overview2.pdf')</code></pre>
</div>
</div>
<embed src="pdf/tlf_overview2.pdf" style="width:100%; height:400px" type="application/pdf">
</section>
<section id="column-headers" class="level3" data-number="4.6.6">
<h3 data-number="4.6.6" class="anchored" data-anchor-id="column-headers"><span class="header-section-number">4.6.6</span> Column headers</h3>
<p>In <code>RTFColumnHeader</code>, the <code>text</code> argument provides the column header content as a list of strings.</p>
<div id="ed727272" class="cell" data-execution_count="21">
<div class="cell-output cell-output-stdout">
<pre><code>rtf/tlf_overview3.rtf</code></pre>
</div>
</div>
<div id="d6fa1469" class="cell" data-execution_count="22">
<div class="cell-output cell-output-display" data-execution_count="22">
<pre><code>PosixPath('pdf/tlf_overview3.pdf')</code></pre>
</div>
</div>
<embed src="pdf/tlf_overview3.pdf" style="width:100%; height:400px" type="application/pdf">
<p>We also allow column headers to be displayed in multiple lines. If an empty column name is needed for a column, you can insert an empty string. For example, <code>["name 1", "", "name 3"]</code>.</p>
<p>In <code>RTFColumnHeader</code>, the <code>col_rel_width</code> can be used to align column headers with different numbers of columns.</p>
<p>By using <code>RTFColumnHeader</code> with <code>col_rel_width</code>, one can customize complex column headers. If there are multiple pages, the column header will repeat on each page by default.</p>
<div id="1dbc257f" class="cell" data-execution_count="23">
<div class="cell-output cell-output-stdout">
<pre><code>rtf/tlf_overview4.rtf</code></pre>
</div>
</div>
<div id="41bae698" class="cell" data-execution_count="24">
<div class="cell-output cell-output-display" data-execution_count="24">
<pre><code>PosixPath('pdf/tlf_overview4.pdf')</code></pre>
</div>
</div>
<embed src="pdf/tlf_overview4.pdf" style="width:100%; height:400px" type="application/pdf">
</section>
<section id="titles-footnotes-and-data-source" class="level3" data-number="4.6.7">
<h3 data-number="4.6.7" class="anchored" data-anchor-id="titles-footnotes-and-data-source"><span class="header-section-number">4.6.7</span> Titles, footnotes, and data source</h3>
<p>RTF documents can include additional components to provide context and documentation:</p>
<ul>
<li><code>RTFTitle</code>: Add document titles and subtitles</li>
<li><code>RTFFootnote</code>: Add explanatory footnotes</li>
<li><code>RTFSource</code>: Add data source attribution</li>
</ul>
<div id="560134ae" class="cell" data-execution_count="25">
<div class="cell-output cell-output-stdout">
<pre><code>rtf/tlf_overview5.rtf</code></pre>
</div>
</div>
<div id="238d64e6" class="cell" data-execution_count="26">
<div class="cell-output cell-output-display" data-execution_count="26">
<pre><code>PosixPath('pdf/tlf_overview5.pdf')</code></pre>
</div>
</div>
<embed src="pdf/tlf_overview5.pdf" style="width:100%; height:400px" type="application/pdf">
<p>Note the use of <code>\\line</code> in column headers to create line breaks within cells.</p>
</section>
<section id="text-formatting-and-alignment" class="level3" data-number="4.6.8">
<h3 data-number="4.6.8" class="anchored" data-anchor-id="text-formatting-and-alignment"><span class="header-section-number">4.6.8</span> Text formatting and alignment</h3>
<p>rtflite supports various text formatting options:</p>
<ul>
<li><strong>Text formatting</strong>: Bold (<code>b</code>), italic (<code>i</code>), underline (<code>u</code>), strikethrough (<code>s</code>)</li>
<li><strong>Text alignment</strong>: Left (<code>l</code>), center (<code>c</code>), right (<code>r</code>), justify (<code>j</code>)</li>
<li><strong>Font properties</strong>: Font size, font family</li>
</ul>
<div id="a36d3f28" class="cell" data-execution_count="27">
<div class="cell-output cell-output-stdout">
<pre><code>rtf/tlf_overview6.rtf</code></pre>
</div>
</div>
<div id="f194b24c" class="cell" data-execution_count="28">
<div class="cell-output cell-output-display" data-execution_count="28">
<pre><code>PosixPath('pdf/tlf_overview6.pdf')</code></pre>
</div>
</div>
<embed src="pdf/tlf_overview6.pdf" style="width:100%; height:400px" type="application/pdf">
</section>
<section id="border-customization" class="level3" data-number="4.6.9">
<h3 data-number="4.6.9" class="anchored" data-anchor-id="border-customization"><span class="header-section-number">4.6.9</span> Border customization</h3>
<p>Table borders can be customized extensively:</p>
<ul>
<li><strong>Border styles</strong>: <code>single</code>, <code>double</code>, <code>thick</code>, <code>dotted</code>, <code>dashed</code></li>
<li><strong>Border sides</strong>: <code>border_top</code>, <code>border_bottom</code>, <code>border_left</code>, <code>border_right</code></li>
<li><strong>Page borders</strong>: <code>border_first</code>, <code>border_last</code> for first/last rows across pages</li>
</ul>
<div id="b3c6e557" class="cell" data-execution_count="29">
<div class="cell-output cell-output-stdout">
<pre><code>rtf/tlf_overview7.rtf</code></pre>
</div>
</div>
<div id="8d9765d9" class="cell" data-execution_count="30">
<div class="cell-output cell-output-display" data-execution_count="30">
<pre><code>PosixPath('pdf/tlf_overview7.pdf')</code></pre>
</div>
</div>
<embed src="pdf/tlf_overview7.pdf" style="width:100%; height:400px" type="application/pdf">
</section>
</section>
<section id="next-steps" class="level2" data-number="4.7">
<h2 data-number="4.7" class="anchored" data-anchor-id="next-steps"><span class="header-section-number">4.7</span> Next Steps</h2>
<p>Having covered the fundamental concepts and tools for creating clinical TLFs with Python, readers can explore specific implementations based on their requirements:</p>
<p>Each chapter provides step-by-step tutorials with reproducible code examples that can be adapted for specific clinical reporting requirements.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/pycsr\.org\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./env-pkg.html" class="pagination-link" aria-label="Python package toolchain">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Python package toolchain</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./tlf-disposition.html" class="pagination-link" aria-label="Disposition of participants">
        <span class="nav-page-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Disposition of participants</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




<footer class="footer"><div class="nav-footer"><div class="nav-footer-center"><div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/nanxstats/pycsr/edit/main/tlf-overview.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/nanxstats/pycsr/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li><li><a href="https://github.com/nanxstats/pycsr/blob/main/tlf-overview.qmd" class="toc-action"><i class="bi empty"></i>View source</a></li></ul></div></div></div></footer></body></html>